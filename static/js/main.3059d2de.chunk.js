(window["webpackJsonpcurrency-converter"]=window["webpackJsonpcurrency-converter"]||[]).push([[0],{18:function(e,t,r){e.exports=r(42)},23:function(e,t,r){},24:function(e,t,r){},42:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),u=r(2),c=r.n(u),o=(r(23),r(24),r(3)),l=r(4),s=r(6),i=r(5),m=r(7),d=r(17),p=r.n(d),h={ACCESS_KEY:"eb192050420a2d203c868dd115ff6174",ENDPOINT:"http://data.fixer.io/api/latest",SYMBOLS:"CAD,USD,EUR"},f={getExchangeRates:function(){var e="".concat(h.ENDPOINT,"?access_key=").concat(h.ACCESS_KEY,"&symbols=").concat(h.SYMBOLS);return p.a.get(e)}},v=function(e){var t=e.children,r=Object(n.useRef)(null);if(!r.current){var c=document.createElement("div");r.current=c}return Object(n.useEffect)((function(){var e=document.getElementById("modal");return e.appendChild(r.current),function(){return e.removeChild(r.current)}}),[]),Object(u.createPortal)(a.a.createElement("div",null,t),r.current)},E=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(s.a)(this,Object(i.a)(t).call(this,e))).toggleModal=function(){r.setState({showModal:!r.state.showModal})},r.state={showModal:!1},r}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"disclaimer-parent"},a.a.createElement("button",{className:"disclaimer",onClick:this.toggleModal},"Disclaimer"),this.state.showModal?a.a.createElement(v,null,a.a.createElement("div",null,a.a.createElement("h2",{className:"disclaimer-heading"},"Where is the data coming from?"),a.a.createElement("p",{className:"disclaimer-text"},"Exchange rate data delivered by the Fixer API is collected from over 15 reliable data sources, every minute. Sources include banks and financial data providers."),a.a.createElement("button",{className:"disclaimer-button",onClick:this.toggleModal},"OK"))):null)}}]),t}(n.Component),y=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleApiError=function(e){var t=e||"Error fetching data";r.setState({showError:!0,errorMsg:t}),console.error(t)},r.convertCurrency=function(e,t,n){if(n>0){var a=r.state.exchangeRates[e],u=(r.state.exchangeRates[t]/a*n).toFixed(2);r.setState({outputAmount:u,showError:!1})}else r.setState({errorMsg:"amount cannot be 0",showError:!0})},r.setInput=function(e){r.setState({inputAmount:e})},r.setInputCurrency=function(e){r.setState({inputCurrency:e},r.currencyUpdateHandler)},r.setOutputCurrency=function(e){r.setState({outputCurrency:e},r.currencyUpdateHandler)},r.updateOutputAmount=function(e){r.isInputValid(e)&&(e=parseFloat(e),r.convertCurrency(r.state.inputCurrency,r.state.outputCurrency,e))},r.state={inputAmount:"",inputCurrency:"CAD",outputAmount:"",outputCurrency:"USD",currencyOptions:["CAD","USD","EUR"],exchangeRates:{CAD:1,USD:1,EUR:1},showError:!1,errorMsg:""},r}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.getExchangeRates().then((function(t){if(console.log(t),t.data&&t.data.rates){var r=t.data.rates;e.setState({exchangeRates:{CAD:r.CAD,USD:r.USD,EUR:r.EUR},showError:!1})}else e.handleApiError("Could not fetch data")}),(function(t){return e.handleApiError(t)}))}},{key:"currencyUpdateHandler",value:function(){this.convertCurrency(this.state.inputCurrency,this.state.outputCurrency,this.state.inputAmount)}},{key:"isInputValid",value:function(e){var t=!0;return isNaN(Number(e))?(this.setState({showError:!0,errorMsg:"Please input a number and try again."}),t=!1):Number(e)<0&&(this.setState({showError:!0,errorMsg:"No negative values allowed. Try again."}),t=!1),t}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"converter"},a.a.createElement("h2",null,"Currency Converter"),a.a.createElement("form",{className:"converter-form",onSubmit:function(e){return e.preventDefault()}},a.a.createElement("label",{className:"converter-from__label",htmlFor:"inputAmount"},a.a.createElement("h4",null,"Type in amount and select currency:"),a.a.createElement("input",{id:"inputAmount",className:"converter-form__input",placeholder:"0.00",value:this.state.inputAmount,onChange:function(t){return e.setInput(t.target.value)},onBlur:function(t){return e.updateOutputAmount(t.target.value)}})),a.a.createElement("label",{className:"converter-from__label",htmlFor:"inputCurrency"},a.a.createElement("select",{id:"inputCurrency",className:"converter-form__select",value:this.state.inputCurrency,onChange:function(t){return e.setInputCurrency(t.target.value)},onBlur:function(t){return e.setInputCurrency(t.target.value)}},this.state.currencyOptions.map((function(e){return a.a.createElement("option",{value:e,key:e},e)}))))),this.state.showError?a.a.createElement("div",{className:"error"},this.state.errorMsg):null,a.a.createElement("form",{className:"converter-form",onSubmit:function(e){return e.preventDefault()}},a.a.createElement("label",{className:"converter-from__label",htmlFor:"outputAmount"},a.a.createElement("h4",null,"Converted amount:"),a.a.createElement("input",{id:"outputAmount",className:"converter-form__input",placeholder:"0.00",value:this.state.outputAmount,readOnly:!0})),a.a.createElement("label",{className:"converter-from__label",htmlFor:"outputCurrency"},a.a.createElement("select",{id:"outputCurrency",className:"converter-form__select",value:this.state.outputCurrency,onChange:function(t){return e.setOutputCurrency(t.target.value)},onBlur:function(t){return e.setOutputCurrency(t.target.value)}},this.state.currencyOptions.map((function(e){return a.a.createElement("option",{value:e,key:e},e)}))))),a.a.createElement(E,null))}}]),t}(n.Component),C=function(){return a.a.createElement("div",{className:"container"},a.a.createElement(y,null))};c.a.render(a.a.createElement(C,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3059d2de.chunk.js.map